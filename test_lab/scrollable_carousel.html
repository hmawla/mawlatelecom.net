<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>Scrollable Carousel</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="scrollable_carousel.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="scrollable_carousel.js"></script>
    <script src="js/popmotion.global.min.js"></script>


</head>

<body onload="setScrollableCarouselWidth(9);">
    <br><br><br><br><br><br><br>

    <div class="container" style="overflow:hidden">
        <button onclick="movePrev()">Prev</button>
        <button onclick="moveNext()">Next</button>
        <br><br><br>
        <div id="theDivv" onmousedown="oldX = event.clientX;" style="max-width:100%;min-width: 200px; max-height: 25%; min-height:400px; border: solid 5px black;padding:5px; overflow:hidden;">
            <div id="theDiv" style="background-color:yellow;user-select:none;width: 300px;transform: translate(-50px,0px);">
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
                <div class="card text-center border-primary" style="margin-bottom: 10px;border: solid 5px black;">
                    <img style="cursor: pointer;pointer-events: none;" class="card-img-top" src="samsunggalaxys9.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Galaxy S9 Plus</h5>
                        <p class="card-text">999$</p>
                        <a href="#" class="btn btn-primary">Add To Cart</a>
                    </div>
                </div>
            </div>

        </div>

    </div>
    <p id="Coordinator"></p>
    <p id="tester"></p>
    <script>
        var oldX;
        var x;
        var pos;
        var attached = false;
        var theDiv = document.getElementById('theDiv');
        var _window$popmotion = window.popmotion;
        var listen = _window$popmotion.listen;
        const theDivv = document.querySelector('#theDivv');
        var pointer = _window$popmotion.pointer;

        function EnableAttached() {
            attached = true;
            document.getElementById('tester').innerHTML = attached + '<br>' + x + '<BR>';
        }

        function DisableAttached() {
            attached = false;
            document.getElementById('tester').innerHTML = attached;
        }

        function attachMove() {
            if (isNaN(event.clientX)) {
                x = Touch.clientX;
            } else {
                x = event.clientX; // Get the horizontal coordinate
            }

            var coor;
            if (attached == true) {
                var moveX = oldX - x;
                coor = "X coords: " + x + " old x: " + oldX + " Move: " + moveX + " Is attached? " + attached;
                var style = window.getComputedStyle(theDiv);
                var matrix = new WebKitCSSMatrix(style.webkitTransform);
                pos = matrix.m41;
                theDiv.style.transform = "translateX(" + (pos - moveX) + "px)";
                oldX = x;
                document.getElementById('Coordinator').innerHTML = coor;
            } else {
                coor = "X coords: " + x + " old x: " + oldX + " Move: " + moveX + " Is attached? " + attached;
                document.getElementById('Coordinator').innerHTML = coor;
            }


        }

        function setScrollableCarouselWidth(theRightWidth) {
            theDiv.style.width = 300 * theRightWidth + "px";
        }

        listen(theDivv, 'mousedown touchstart').start(EnableAttached);
        listen(document, 'mousemove touchmove').start(attachMove);
        listen(document, 'mouseup touchend').start(DisableAttached);
    </script>

</body>

</html>